"use strict";emailjs.init("Hhpvi3dgfNV-eaXKW");var btn=document.querySelector(".buttoners"),cross=document.querySelector(".cross"),formBox=document.querySelector(".form-box"),notifications=document.querySelector(".notifications"),notificationMessages={cooldown:'Error sending email.<br>Email limit reached: <span class="highlight">3</span>.<br>Try again 24h after sending the last email.',error:"Error sending email.<br>Please try again later.",success:'Email sent successfully.<br>Number of emails possible to send<br>in the next 24h: <span class="highlight"></span>.'},opennedForm=formBox.querySelector(".open-form-inner"),form=document.querySelector(".contact form"),formTelephoneControls=document.querySelectorAll(".form-controls"),numbers="0123456789",disableScroll=function(){var e=window.scrollY;window.onscroll=function(){window.scrollTo({top:e,behavior:"instant"})}},handleArrowRight=function(e){e=e.nextElementSibling;e&&e.focus()},handleArrowLeft=function(e){e=e.previousElementSibling;e&&e.focus()},handleInput=function(e,t){"Backspace"==e?""==t.value?handleArrowLeft(t):t.value="":""!=t.value&&handleArrowRight(t)},enableScroll=function(){window.onscroll=function(){}},closeFormIfOutside=function(e){opennedForm.contains(e.target)||e.target==btn||(formBox.setAttribute("aria-hidden","true"),enableScroll())},resetForm=function(){var e=form.querySelectorAll("input"),t=form.querySelector("textarea");e.forEach(function(e){e.value=""}),t.value=""},createNotification=function(e,t){var o=document.createElement("div"),e=(o.setAttribute("data-success",e),document.createElement("p"));e.innerHTML=t,o.append(e),t==notificationMessages.success&&(t=3-+document.cookie.split(";").find(function(e){return e.trim().startsWith("limit")}).split("=")[1],e.querySelector(".highlight").append(t)),o.classList.add("notification"),notifications.append(o),setTimeout(function(){o.classList.add("shown"),setTimeout(function(){o.classList.remove("shown"),setTimeout(function(){o.remove()},500)},5e3)},100)};btn.addEventListener("click",function(){disableScroll(),formBox.setAttribute("aria-hidden","false")}),cross.addEventListener("click",function(){enableScroll(),formBox.setAttribute("aria-hidden","true")}),formTelephoneControls.forEach(function(t){t.addEventListener("keydown",function(e){"ArrowRight"==e.key?handleArrowRight(t):"ArrowLeft"==e.key?handleArrowLeft(t):handleInput(e.key,t)}),t.addEventListener("input",function(e){numbers.includes(e.target.value)||(e.target.value="")})}),form.addEventListener("submit",function(e){e.preventDefault();var o,e=document.cookie.split(";");e.find(function(e){return e.trim().startsWith("emailCooldown")})?(formBox.classList.add("hidden"),enableScroll(),createNotification("false",notificationMessages.cooldown)):(e=e.find(function(e){return e.trim().startsWith("limit")}),3<=(o=e?+e.split("=")[1]:0)?((e=new Date).setTime(e.getTime()+72e5),document.cookie="emailCooldown = emailCooldown; expires =  ".concat(e),document.cookie="limit=3; expires = ".concat(e),resetForm(),formBox.setAttribute("aria-hidden","true"),enableScroll(),createNotification("false",notificationMessages.cooldown)):emailjs.sendForm("service_pk7b8o3","template_ykytfdk",form).then(function(){var e,t;formBox.setAttribute("aria-hidden","true"),enableScroll(),resetForm(),e=++o,(t=new Date).setTime(t.getTime()+864e5),document.cookie="limit=".concat(e,"; expires = ").concat(t),createNotification("true",notificationMessages.success)}).catch(function(){createNotification("false",notificationMessages.error)}))}),window.addEventListener("click",function(e){return closeFormIfOutside(e)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlY3Rpb25zL2NvbnRhY3QuanMiXSwibmFtZXMiOlsiZW1haWxqcyIsImluaXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJidG4iLCJjcm9zcyIsImZvcm1Cb3giLCJub3RpZmljYXRpb25zIiwiY29vbGRvd24iLCJub3RpZmljYXRpb25NZXNzYWdlcyIsImVycm9yIiwib3Blbm5lZEZvcm0iLCJmb3JtIiwicXVlcnlTZWxlY3RvckFsbCIsIm51bWJlcnMiLCJkaXNhYmxlU2Nyb2xsIiwic2Nyb2xsVG9wIiwid2luZG93Iiwic2Nyb2xsWSIsIm9uc2Nyb2xsIiwic2Nyb2xsVG8iLCJ0b3AiLCJiZWhhdmlvciIsIm5leHRDb250cm9sIiwiY29udHJvbCIsIm5leHRFbGVtZW50U2libGluZyIsImZvY3VzIiwicHJldkNvbnRyb2wiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiaGFuZGxlQXJyb3dMZWZ0Iiwia2V5IiwidmFsdWUiLCJoYW5kbGVBcnJvd1JpZ2h0IiwiZW5hYmxlU2Nyb2xsIiwiaW5wdXRzIiwidGV4dGFyZWEiLCJlIiwidGFyZ2V0IiwiZm9yRWFjaCIsImlucHV0IiwiY3JlYXRlTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImlzU3VjY2VzcyIsImlubmVySFRNTCIsIm1lc3NhZ2UiLCJzdGFydHNXaXRoIiwiaGlnaGxpZ2h0U3BhbiIsImxpbWl0VmFsdWUiLCJsaW1pdENvb2tpZSIsImFwcGVuZCIsInAiLCJjbGFzc0xpc3QiLCJzdWNjZXNzIiwiYWRkIiwic3BsaXQiLCJmaW5kIiwiY29va2llIiwidHJpbSIsInJlbW92ZSIsInNldFRpbWVvdXQiLCJhZGRFdmVudExpc3RlbmVyIiwiZm9ybVRlbGVwaG9uZUNvbnRyb2xzIiwiaW5jbHVkZXMiLCJwcmV2ZW50RGVmYXVsdCIsImRhdGUiLCJnZXRUaW1lIiwiZGF5IiwicmVzZXRGb3JtIiwiY29va2llcyIsIkRhdGUiLCJjb250YWN0U2VydmljZUlkIiwiY29udGFjdEZvcm1JZCIsImNvbmNhdCIsInNlbmRGb3JtIiwidGhlbiIsInNldFRpbWUiLCJjbG9zZUZvcm1JZk91dHNpZGUiXSwibWFwcGluZ3MiOiJhQUNBQSxRQUFRQyxLQUFLLG1CQUFtQixFQUFoQ0QsSUFBQUEsSUFBWUUsU0FBQ0MsY0FBb0IsWUFBQSxFQUUzQkMsTUFBTUYsU0FBU0MsY0FBYyxRQUFZLEVBQ3pDRSxRQUFRSCxTQUFTQyxjQUFjLFdBQVMsRUFDeENHLGNBQWtCSixTQUFDQyxjQUFjLGdCQUFZLEVBQzdDSSxxQkFBeUJKLENBQy9CSyxTQUFNQyxnSUFDSkQsTUFBQUEsa0RBQ0FFLFFBQU8sb0hBRVQsRUFBQ0MsWUFBQUwsUUFBQUgsY0FBQSxrQkFBQSxFQUNLUSxLQUFBQSxTQUFjTCxjQUFRSCxlQUFjLEVBQ3BDUyxzQkFBZ0JULFNBQWNVLGlCQUFnQixnQkFBQSxFQUc5Q0MsUUFBVSxhQUNWQyxjQUFnQixXQUNwQixJQUFNQyxFQUFZQyxPQUFPQyxRQUN6QkQsT0FBT0UsU0FBVyxXQUNoQkYsT0FBT0csU0FBUyxDQUNkQyxJQUFLTCxFQUNMTSxTQUFVLFNBQ1osQ0FBQyxDQUNILENBQ0YsRUFHUUMsaUJBQWNDLFNBQUFBLEdBQ2pCRCxFQUFZQyxFQUFBQyxtQkFDYkYsR0FDRkEsRUFBQUcsTUFBQSxDQUdGLEVBRUtDLGdCQUFZLFNBQUFILEdBQ2JHLEVBQWtCSCxFQUFDSSx1QkFDckJELEdBQ0RBLEVBQUFELE1BQUEsQ0FBRCxFQUtNRyxZQUFBQSxTQUFlQyxFQUFDTixHQUViLGFBREpNLEVBRW1CLElBQWxCTixFQUFRTyxNQUNWRixnQkFBQUwsQ0FBQSxFQUlFUSxFQUFBQSxNQUFnQixHQUtELElBQWZDLEVBQUFBLE9BQ0poQixpQkFBa0JPLENBQUEsQ0FIcEIsRUFTSVMsYUFBYyxXQUNoQmhCLE9BQUFFLFNBQUEsWUFDRixFQUdRZSxtQkFBY3JCLFNBQUFBLEdBQ2RzQixZQUFXdkIsU0FBS1QsRUFBQUEsTUFBYSxHQUFDaUMsRUFBQUMs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LEVBUlJyRSxRQVVFQSxhQUFRcUMsY0FBMEIsTUFBRSxFQVR0Q1YsYUFVRUEsRUFURk8sbUJBVWEsUUFBQS9CLHFCQUFBRCxRQUFBLEdBT2ZSLFFBQUEyRSxTQUhlLGtCQUNRLG1CQUV2Qi9ELElBQUEsRUFDRGdFLEtBQ0ksV0FyQ2MsSUFBQTdDLEVBQ29CbUMsRUFxQ3JDNUQsUUFBUStDLGFBQWMsY0FBUyxNQUFBLEVBQy9CcEIsYUFBYyxFQUNkTyxVQUFBQSxFQXhDaUJULEVBeUNuQixFQUFBa0IsR0F4Q3VDaUIsRUFBSVIsSUFBT0MsTUFBMkJrQixRQUFBWCxFQUFBQyxRQUFBLEVBQXZFakIsS0FBdUUsRUFDM0VoRCxTQUFJK0MsT0FBVSxTQUFBeUIsT0FBQTNDLEVBQUEsY0FBQSxFQUFBMkMsT0FBQVIsQ0FBQSxFQXdDaEIxQixtQkFBQSxPQUFBL0IscUJBQUE2QyxPQUFBLENBRUksQ0FBQ1EsRUFBQUEsTUFBaUNnQixXQUFzQnRDLG1CQUFBLFFBQUEvQixxQkFBQUMsS0FBQSxDQVZ4RCxDQUFDLEVBUVAsQ0FBQyxFQUVETyxPQUFPNkMsaUJBQWlCLFFBQVMsU0FBQzFCLEdBQUMsT0FBSzBDLG1CQUFtQjFDLENBQUMsQ0FBQyxDQUFBIiwiZmlsZSI6InNlY3Rpb25zL2NvbnRhY3QubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5lbWFpbGpzLmluaXQoJ0hocHZpM2RnZk5WLWVhWEtXJylcblxuY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbmVycycpXG5jb25zdCBjcm9zcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jcm9zcycpXG5jb25zdCBmb3JtQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tYm94JylcbmNvbnN0IG5vdGlmaWNhdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm90aWZpY2F0aW9ucycpXG5jb25zdCBub3RpZmljYXRpb25NZXNzYWdlcyA9IHtcbiAgY29vbGRvd246ICdFcnJvciBzZW5kaW5nIGVtYWlsLjxicj5FbWFpbCBsaW1pdCByZWFjaGVkOiA8c3BhbiBjbGFzcz1cImhpZ2hsaWdodFwiPjM8L3NwYW4+Ljxicj5UcnkgYWdhaW4gMjRoIGFmdGVyIHNlbmRpbmcgdGhlIGxhc3QgZW1haWwuJyxcbiAgZXJyb3I6ICdFcnJvciBzZW5kaW5nIGVtYWlsLjxicj5QbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicsXG4gIHN1Y2Nlc3M6ICdFbWFpbCBzZW50IHN1Y2Nlc3NmdWxseS48YnI+TnVtYmVyIG9mIGVtYWlscyBwb3NzaWJsZSB0byBzZW5kPGJyPmluIHRoZSBuZXh0IDI0aDogPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRcIj48L3NwYW4+Lidcbn1cbmNvbnN0IG9wZW5uZWRGb3JtID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKCcub3Blbi1mb3JtLWlubmVyJylcbmNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdCBmb3JtJylcbmNvbnN0IGZvcm1UZWxlcGhvbmVDb250cm9scyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtLWNvbnRyb2xzJylcblxuY29uc3QgbnVtYmVycyA9ICcwMTIzNDU2Nzg5J1xuY29uc3QgZGlzYWJsZVNjcm9sbCA9ICgpID0+IHtcbiAgY29uc3Qgc2Nyb2xsVG9wID0gd2luZG93LnNjcm9sbFlcbiAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuICAgIHdpbmRvdy5zY3JvbGxUbyh7XG4gICAgICB0b3A6IHNjcm9sbFRvcCxcbiAgICAgIGJlaGF2aW9yOiAnaW5zdGFudCcsXG4gICAgfSlcbiAgfVxufVxuXG5jb25zdCBoYW5kbGVBcnJvd1JpZ2h0ID0gKGNvbnRyb2wpID0+IHtcbiAgY29uc3QgbmV4dENvbnRyb2wgPSBjb250cm9sLm5leHRFbGVtZW50U2libGluZ1xuICBpZihuZXh0Q29udHJvbCl7XG4gICAgbmV4dENvbnRyb2wuZm9jdXMoKVxuICB9XG59XG5cbmNvbnN0IGhhbmRsZUFycm93TGVmdCA9IChjb250cm9sKSA9PiB7XG4gIGNvbnN0IHByZXZDb250cm9sID0gY29udHJvbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nXG4gIGlmKHByZXZDb250cm9sKXtcbiAgICBwcmV2Q29udHJvbC5mb2N1cygpXG4gIH1cbn1cblxuY29uc3QgaGFuZGxlSW5wdXQgPSAoa2V5LCBjb250cm9sKSA9PiB7XG4gIGlmKGtleSA9PSAnQmFja3NwYWNlJykge1xuICAgIGlmKGNvbnRyb2wudmFsdWUgPT0gJycpe1xuICAgICAgaGFuZGxlQXJyb3dMZWZ0KGNvbnRyb2wpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29udHJvbC52YWx1ZSA9ICcnXG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGlmKGNvbnRyb2wudmFsdWUgIT0gJycpe1xuICAgICAgaGFuZGxlQXJyb3dSaWdodChjb250cm9sKVxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBlbmFibGVTY3JvbGwgPSAoKSA9PiB7XG4gIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uICgpIHt9XG59XG5cbmNvbnN0IGNsb3NlRm9ybUlmT3V0c2lkZSA9IChlKSA9PiB7XG4gIGlmKCFvcGVubmVkRm9ybS5jb250YWlucyhlLnRhcmdldCkgJiYgZS50YXJnZXQgIT0gYnRuKXtcbiAgICBmb3JtQm94LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpXG4gICAgZW5hYmxlU2Nyb2xsKClcbiAgfVxufVxuXG5jb25zdCByZXNldEZvcm0gPSAoKSA9PiB7XG4gIGNvbnN0IGlucHV0cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKVxuICBjb25zdCB0ZXh0YXJlYSA9IGZvcm0ucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgaW5wdXQudmFsdWUgPSAnJ1xuICB9KVxuICB0ZXh0YXJlYS52YWx1ZSA9ICcnXG59XG5cbmNvbnN0IGNyZWF0ZU5vdGlmaWNhdGlvbiA9IChpc1N1Y2Nlc3MsIG1lc3NhZ2UpID0+IHtcbiAgY29uc3Qgbm90aWZpY2F0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgbm90aWZpY2F0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS1zdWNjZXNzJywgaXNTdWNjZXNzKVxuICAgIGNvbnN0IHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgICBwLmlubmVySFRNTCA9IG1lc3NhZ2VcbiAgICBub3RpZmljYXRpb24uYXBwZW5kKHApXG4gICAgaWYobWVzc2FnZSA9PSBub3RpZmljYXRpb25NZXNzYWdlcy5zdWNjZXNzKXtcbiAgICAgIGNvbnN0IGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKVxuICAgICAgY29uc3QgbGltaXRDb29raWUgPSBjb29raWVzLmZpbmQoY29va2llID0+IGNvb2tpZS50cmltKCkuc3RhcnRzV2l0aCgnbGltaXQnKSlcbiAgICAgIGNvbnN0IGxpbWl0VmFsdWUgPSAzIC0gK2xpbWl0Q29va2llLnNwbGl0KCc9JylbMV1cbiAgICAgIGNvbnN0IGhpZ2hsaWdodFNwYW4gPSBwLnF1ZXJ5U2VsZWN0b3IoJy5oaWdobGlnaHQnKVxuICAgICAgaGlnaGxpZ2h0U3Bhbi5hcHBlbmQobGltaXRWYWx1ZSlcbiAgICB9XG4gIG5vdGlmaWNhdGlvbi5jbGFzc0xpc3QuYWRkKCdub3RpZmljYXRpb24nKVxuICBub3RpZmljYXRpb25zLmFwcGVuZChub3RpZmljYXRpb24pXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIG5vdGlmaWNhdGlvbi5jbGFzc0xpc3QuYWRkKCdzaG93bicpXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBub3RpZmljYXRpb24uY2xhc3NMaXN0LnJlbW92ZSgnc2hvd24nKVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIG5vdGlmaWNhdGlvbi5yZW1vdmUoKVxuICAgICAgfSwgNTAwKVxuICAgIH0sIDUwMDApXG4gIH0sIDEwMClcbn1cblxuYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBkaXNhYmxlU2Nyb2xsKClcblx0Zm9ybUJveC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJylcbn0pXG5jcm9zcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgZW5hYmxlU2Nyb2xsKClcblx0Zm9ybUJveC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKVxufSlcbmZvcm1UZWxlcGhvbmVDb250cm9scy5mb3JFYWNoKGNvbnRyb2wgPT4ge1xuICBjb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgIGlmKGUua2V5ID09ICdBcnJvd1JpZ2h0Jyl7XG4gICAgICBoYW5kbGVBcnJvd1JpZ2h0KGNvbnRyb2wpXG4gICAgfVxuICAgIGVsc2UgaWYoZS5rZXkgPT0gJ0Fycm93TGVmdCcpe1xuICAgICAgaGFuZGxlQXJyb3dMZWZ0KGNvbnRyb2wpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaGFuZGxlSW5wdXQoZS5rZXksIGNvbnRyb2wpXG4gICAgfVxuICB9KVxuICBjb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcbiAgICBpZighbnVtYmVycy5pbmNsdWRlcyhlLnRhcmdldC52YWx1ZSkpe1xuICAgICAgZS50YXJnZXQudmFsdWUgPSAnJ1xuICAgIH1cbiAgfSlcbn0pXG5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKVxuICBjb25zdCBzZXRTZW5kTGltaXQgPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCBkYXkgPSAyNCAqIDYwICogNjAgKiAxMDAwXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcbiAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyBkYXkpXG4gICAgZG9jdW1lbnQuY29va2llID0gYGxpbWl0PSR7dmFsdWV9OyBleHBpcmVzID0gJHtkYXRlfWBcbiAgfVxuICBcbiAgY29uc3QgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpXG4gIGNvbnN0IGNvb2xkb3duQ29va2llID0gY29va2llcy5maW5kKGNvb2tpZSA9PiBjb29raWUudHJpbSgpLnN0YXJ0c1dpdGgoJ2VtYWlsQ29vbGRvd24nKSlcbiAgaWYoIWNvb2xkb3duQ29va2llKXtcbiAgICBsZXQgbGltaXRDb29raWUgPSBjb29raWVzLmZpbmQoY29va2llID0+IGNvb2tpZS50cmltKCkuc3RhcnRzV2l0aCgnbGltaXQnKSlcbiAgICBsZXQgbGltaXRWYWx1ZVxuICAgIGlmKCFsaW1pdENvb2tpZSl7XG4gICAgICBsaW1pdFZhbHVlID0gMFxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGxpbWl0VmFsdWUgPSArbGltaXRDb29raWUuc3BsaXQoJz0nKVsxXVxuICAgIH1cbiAgICBpZihsaW1pdFZhbHVlID49IDMpe1xuICAgICAgY29uc3QgdHdvSG91cnMgPSAxMjAgKiA2MCAqIDEwMDBcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXG4gICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyB0d29Ib3VycylcbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGBlbWFpbENvb2xkb3duID0gZW1haWxDb29sZG93bjsgZXhwaXJlcyA9ICAke2RhdGV9YFxuICAgICAgZG9jdW1lbnQuY29va2llID0gYGxpbWl0PTM7IGV4cGlyZXMgPSAke2RhdGV9YFxuICAgICAgcmVzZXRGb3JtKClcbiAgICAgIGZvcm1Cb3guc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJylcbiAgICAgIGVuYWJsZVNjcm9sbCgpXG4gICAgICBjcmVhdGVOb3RpZmljYXRpb24oJ2ZhbHNlJywgbm90aWZpY2F0aW9uTWVzc2FnZXMuY29vbGRvd24pXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc3QgY29udGFjdFNlcnZpY2VJZCA9ICdzZXJ2aWNlX3BrN2I4bzMnXG4gICAgICBjb25zdCBjb250YWN0Rm9ybUlkID0gJ3RlbXBsYXRlX3lreXRmZGsnXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIGVtYWlsanMuc2VuZEZvcm0oY29udGFjdFNlcnZpY2VJZCwgY29udGFjdEZvcm1JZCwgZm9ybSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZm9ybUJveC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKVxuICAgICAgICBlbmFibGVTY3JvbGwoKVxuICAgICAgICByZXNldEZvcm0oKVxuICAgICAgICBzZXRTZW5kTGltaXQoKytsaW1pdFZhbHVlKVxuICAgICAgICBjcmVhdGVOb3RpZmljYXRpb24oJ3RydWUnLCBub3RpZmljYXRpb25NZXNzYWdlcy5zdWNjZXNzKVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIGNyZWF0ZU5vdGlmaWNhdGlvbignZmFsc2UnLCBub3RpZmljYXRpb25NZXNzYWdlcy5lcnJvcilcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGZvcm1Cb3guY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICBlbmFibGVTY3JvbGwoKVxuICAgIGNyZWF0ZU5vdGlmaWNhdGlvbignZmFsc2UnLCBub3RpZmljYXRpb25NZXNzYWdlcy5jb29sZG93bilcbiAgfVxufSlcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IGNsb3NlRm9ybUlmT3V0c2lkZShlKSlcblxuXG4iXX0=
